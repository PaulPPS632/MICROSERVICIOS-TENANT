import{a as le}from"./chunk-SLUKO32R.js";import{a as ce}from"./chunk-KTRCS3B2.js";import{a as se}from"./chunk-PL2JTFW6.js";import{a as de}from"./chunk-F5UXNOVL.js";import{a as ge}from"./chunk-SJWRDQVH.js";import{a as Y,b as K,c as X,d as $,e as ee,f as te,h as ie,i as oe,j as re,k as ne,l as ae}from"./chunk-IUFCXTOM.js";import{a as W,c as J}from"./chunk-IRNCR7DW.js";import{a as V,b as Q,c as D}from"./chunk-FRM5A7CD.js";import{k as G,l as A,m as U,o as z,p as Z}from"./chunk-FFKOQB2C.js";import{Aa as v,N as M,Na as y,Qa as s,S as w,Ta as O,Ua as R,Va as q,Wa as i,X as j,Xa as r,Ya as b,Za as E,ab as S,bb as p,ea as h,fa as f,ga as P,ha as T,hb as d,ib as _,jb as I,kb as x,lb as m,mb as u,nb as g,pb as H,sb as N,tb as k,ub as C,za as l}from"./chunk-SLZJNV7T.js";import{e as ue}from"./chunk-EQDQRRRY.js";var B=ue(ge());var F=class c{constructor(o){this.http=o}apiUrl=W.API_URL+"/inventory/correlativo/siguiente";headers=new V({Authorization:`Bearer ${localStorage.getItem("authToken")}`});getCorrelativoSiguiente(o,e){let t=new Q().set("prefijo",o).set("numeracion",e.toString());return this.http.get(this.apiUrl,{params:t,headers:this.headers})}static \u0275fac=function(e){return new(e||c)(w(D))};static \u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"})};var L=class c{constructor(o,e){this.http=o;this.authService=e;this.authService.usuario$.subscribe(t=>{this.tenantId=t.tenantId,console.log("Tenant ID:",this.tenantId)})}Url=W.API_URL+"/inventory/venta";tenantId=null;getHeaders(){return new V({Authorization:`Bearer ${localStorage.getItem("authToken")}`,tenantId:this.tenantId||""})}registrar(o){return o.usuario_id=JSON.parse(localStorage.getItem("User")).id,this.http.post(this.Url,o,{headers:this.getHeaders()})}Listar(){return this.http.get(this.Url,{headers:this.getHeaders()})}static \u0275fac=function(e){return new(e||c)(w(D),w(J))};static \u0275prov=M({token:c,factory:c.\u0275fac,providedIn:"root"})};var Se=(c,o)=>({"bg-red-800 hover:bg-red-700 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900":c,"bg-green-700 hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-900":o});function ye(c,o){if(c&1&&(i(0,"option",14),d(1),r()),c&2){let e=o.$implicit;s("value",e.id),l(),x(" ",e.id," | ",e.descripcion,"")}}function ve(c,o){if(c&1&&(i(0,"option",14),d(1),r()),c&2){let e=o.$implicit;s("value",e.id),l(),x(" ",e.id," | ",e.descripcion,"")}}function _e(c,o){if(c&1&&(i(0,"option",14),d(1),r()),c&2){let e=o.$implicit;s("value",e.id),l(),x("",e.id," | ",e.nombre,"")}}function xe(c,o){if(c&1){let e=E();i(0,"div",43),b(1,"div",44),i(2,"div",45)(3,"div",46)(4,"div",47)(5,"h3",48),d(6," Editar Tipado "),r(),i(7,"button",49),S("click",function(){h(e);let n=p();return f(n.EditOpen=!1)}),P(),i(8,"svg",50),b(9,"path",51),r(),T(),i(10,"span",52),d(11,"Close modal"),r()()(),i(12,"div",53)(13,"div",17)(14,"label",54),d(15,"Tipo Pago:"),r(),i(16,"select",55),g("ngModelChange",function(n){h(e);let a=p();return u(a.tipoPagoSelec,n)||(a.tipoPagoSelec=n),f(n)}),i(17,"option",10),d(18,"Elegir..."),r(),y(19,ye,2,3,"option",11),r()(),i(20,"div",17)(21,"label",56),d(22,"Tipo de Condici\xF3n"),r(),i(23,"div",57)(24,"select",58),g("ngModelChange",function(n){h(e);let a=p();return u(a.tipoCondSelec,n)||(a.tipoCondSelec=n),f(n)}),i(25,"option",10),d(26,"Elegir..."),r(),y(27,ve,2,3,"option",11),r(),i(28,"button",59),d(29,"Agregar"),r()()(),i(30,"div",17)(31,"label",60),d(32,"Fecha de Emisi\xF3n"),r(),i(33,"input",61),g("ngModelChange",function(n){h(e);let a=p();return u(a.fechaEmision,n)||(a.fechaEmision=n),f(n)}),r()(),i(34,"div",17)(35,"label",62),d(36,"Fecha de Vencimiento"),r(),i(37,"input",63),g("ngModelChange",function(n){h(e);let a=p();return u(a.fechaVencimiento,n)||(a.fechaVencimiento=n),f(n)}),r()(),i(38,"div",17)(39,"label",64),d(40,"Fecha de Pago"),r(),i(41,"input",65),g("ngModelChange",function(n){h(e);let a=p();return u(a.fechaPago,n)||(a.fechaPago=n),f(n)}),r()(),i(42,"div",17)(43,"label",66),d(44,"Forma de Pago"),r(),i(45,"select",67),g("ngModelChange",function(n){h(e);let a=p();return u(a.formaPago,n)||(a.formaPago=n),f(n)}),i(46,"option",10),d(47,"Elegir..."),r(),i(48,"option",68),d(49,"Forma 1"),r(),i(50,"option",69),d(51,"Forma 2"),r(),i(52,"option",70),d(53,"Forma 3"),r()()(),i(54,"div",17)(55,"label",71),d(56,"Tipo Moneda"),r(),i(57,"select",72),g("ngModelChange",function(n){h(e);let a=p();return u(a.tipoMonedaSelec,n)||(a.tipoMonedaSelec=n),f(n)}),i(58,"option",10),d(59,"Elegir..."),r(),y(60,_e,2,3,"option",11),r()(),i(61,"div",17)(62,"label",73),d(63,"Tipo de Cambio"),r(),i(64,"input",74),g("ngModelChange",function(n){h(e);let a=p();return u(a.tipoCambio,n)||(a.tipoCambio=n),f(n)}),r()()()()()()}if(c&2){let e=p();l(16),m("ngModel",e.tipoPagoSelec),l(3),s("ngForOf",e.tipoPago),l(5),m("ngModel",e.tipoCondSelec),l(3),s("ngForOf",e.tipoCondicion),l(6),m("ngModel",e.fechaEmision),l(4),m("ngModel",e.fechaVencimiento),l(4),m("ngModel",e.fechaPago),l(4),m("ngModel",e.formaPago),l(12),m("ngModel",e.tipoMonedaSelec),l(3),s("ngForOf",e.tipoMoneda),l(4),m("ngModel",e.tipoCambio)}}function ke(c,o){if(c&1){let e=E();i(0,"tr")(1,"td",78),d(2),r(),i(3,"td",78)(4,"button",79),S("click",function(){let n=h(e).$implicit,a=p(2);return f(a.SeleccionarSeriesProducto(n.sn))}),d(5),r()()()}if(c&2){let e=o.$implicit,t=p(2);l(2),_(e.sn),l(2),s("ngClass",N(3,Se,t.isSerieSeleccionada(e.sn),!t.isSerieSeleccionada(e.sn))),l(),I(" ",t.isSerieSeleccionada(e.sn)?"Deseleccionar":"Seleccionar"," ")}}function Ce(c,o){if(c&1){let e=E();i(0,"div",43),b(1,"div",44),i(2,"div",45)(3,"div",46)(4,"div",47)(5,"h3",48),d(6),r(),i(7,"button",49),S("click",function(){h(e);let n=p();return f(n.InsertOpen=!1)}),P(),i(8,"svg",50),b(9,"path",51),r(),T(),i(10,"span",52),d(11,"Close modal"),r()()(),i(12,"div",75)(13,"div",76)(14,"table",31)(15,"thead",32)(16,"tr")(17,"th",33),d(18,"Serie"),r(),i(19,"th",33),d(20,"Seleccionar"),r()()(),i(21,"tbody",77),R(22,ke,6,6,"tr",null,O),r()()()()()()()}if(c&2){let e=p();l(6),I(" Producto: ",e.nombreproductoSeleccionado," "),l(16),q(e.SeriesProducto)}}function we(c,o){if(c&1&&(i(0,"option",14),d(1),r()),c&2){let e=o.$implicit;s("value",e.prefijo),l(),x(" ",e.prefijo," | ",e.descripcion,"")}}function Ee(c,o){if(c&1&&(i(0,"option",14),d(1),r()),c&2){let e=o.$implicit;s("value",e.id),l(),x(" ",e.documento," | ",e.nombre," ")}}function Me(c,o){if(c&1){let e=E();i(0,"option",80),S("click",function(){let n=h(e).$implicit,a=p();return f(a.ElegirSeries(n.id))}),d(1),r()}if(c&2){let e=o.$implicit;s("value",e.id),l(),I(" ",e.nombre," ")}}function Pe(c,o){if(c&1&&(i(0,"tr",77)(1,"td",78),d(2),r(),i(3,"td",78),d(4),r(),i(5,"td",78),d(6),k(7,"currency"),r(),i(8,"td",78),d(9),k(10,"currency"),r()()),c&2){let e=o.$implicit;l(2),_(e.cantidad),l(2),_(e.nombre),l(2),_(C(7,4,e.precio_unitario,"S/. ")),l(3),_(C(10,7,e.precio_total,"S/. "))}}function Te(c,o){if(c&1&&(i(0,"tbody"),y(1,Pe,11,10,"tr",81),r()),c&2){let e=p();l(),s("ngForOf",e.ventaData.detalles)}}var me=class c{constructor(o,e,t,n,a,Ie){this.productoService=o;this.productoSerieService=e;this.tipadoService=t;this.entidadService=n;this.correlativoService=a;this.registroVentaService=Ie}fechaEmision;fechaVencimiento;fechaPago;producto=[];listaProductos=[];SeriesProducto=[];idproductoSeleccionado="";nombreproductoSeleccionado="";preciounitproductoSeleccionado=0;tipadoDocumentos;tipoComprobante=[];tipoCondicion=[];tipoPago=[];tipoMoneda=[];tipoMonedaSelec=0;productosSeleccionados=[];detalleVenta=[];nota="";tipoCambio=3;formaPago="1";RegistroVentaService;prefijo="";numeracion=0;correlativo=0;tpSeleccionado="";nSeleccionado=1;serie="";entidad="";selectedProducto="";selectedEntidad="";tipoCondSelec=0;tipoPagoSelec=0;productoSerie=[];entidades=[];filtroEntidad=[];toggleDatePicker(o){let e=document.getElementById(o);e.focus(),e.click()}ventaData={prefijo:this.tpSeleccionado,numeracion:this.nSeleccionado,documento_cliente:this.entidad,usuario_id:"",id_tipocondicion:this.tipoCondSelec,id_tipopago:this.tipoPagoSelec,id_tipomoneda:this.tipoMonedaSelec,tipo_cambio:this.tipoCambio,fecha_emision:new Date().toISOString(),fecha_vencimiento:new Date().toISOString(),nota:this.nota,gravada:this.totalGravada,impuesto:this.igv,total:this.totalPagar,fechapago:new Date().toISOString(),formapago:this.formaPago,detalles:this.detalleVenta};guardarDatos(){this.ventaData.prefijo=this.tpSeleccionado,this.ventaData.numeracion=this.nSeleccionado,this.ventaData.documento_cliente=this.entidad,this.ventaData.id_tipocondicion=this.tipoCondSelec,this.ventaData.id_tipopago=this.tipoPagoSelec,this.ventaData.id_tipomoneda=this.tipoMonedaSelec,this.ventaData.tipo_cambio=this.tipoCambio,this.ventaData.nota=this.nota,this.ventaData.gravada=this.totalGravada,this.ventaData.impuesto=this.igv,this.ventaData.total=this.totalPagar,this.ventaData.formapago=this.formaPago,this.ventaData.detalles=this.detalleVenta,this.fechaEmision&&(this.ventaData.fecha_emision=`${this.fechaEmision}T00:00:00.00`),this.fechaVencimiento&&(this.ventaData.fecha_vencimiento=`${this.fechaVencimiento}T00:00:00.00`),this.fechaPago&&(this.ventaData.fechapago=`${this.fechaPago}T00:00:00.00`)}guardarProductos(){this.guardarDatos(),this.registroVentaService.registrar(this.ventaData).subscribe(o=>{this.ventaData.detalles=[],this.detalleVenta=[],B.default.fire({icon:"success",title:"Venta Registrada",text:o.message})},o=>{B.default.fire({icon:"error",title:"Error en Venta",text:o.error.message})})}removerProducto(o){let e=this.productoSerie.findIndex(t=>t.id===o.id);e!==-1&&(this.productoSerie[e].cantidad>1?this.productoSerie[e].cantidad--:this.productoSerie.splice(e,1),console.log("El producto ha sido eliminado de la lista."),this.detalleVenta=this.detalleVenta.filter(t=>t.id_producto!==o.id))}cargarProductos(){this.productoService.getListaProductos().subscribe(o=>{this.listaProductos=o},o=>{console.error("Error al obtener los productos:",o)})}cargarTipado(){this.tipadoService.getTipadoDocumentos().subscribe(o=>{this.tipadoDocumentos=o,this.tipoComprobante=o.tipocomprobantes,this.tipoCondicion=o.tipocondiciones,this.tipoPago=o.tipopagos,this.tipoMoneda=o.tipomonedas,this.tipoComprobante.length>0&&(this.tpSeleccionado=this.tipoComprobante[0].prefijo),this.tipoCondicion.length>0&&(this.tipoCondSelec=this.tipoCondicion[0].id),this.tipoPago.length>0&&(this.tipoPagoSelec=this.tipoPago[0].id),this.tipoMoneda.length>0&&(this.tipoMonedaSelec=this.tipoMoneda[0].id)},o=>{console.error("Error al obtener los tipos de documentos:",o)})}cargarClientes(){this.entidadService.getEntidades().subscribe(o=>{this.entidades=o,this.filtroEntidad=o})}buscarProducto(){this.productoSerieService.getProductoSerie(this.serie).subscribe(o=>{if(o==null)return;this.idproductoSeleccionado=o.id;let e=this.listaProductos.find(a=>a.id===o.id);e&&(this.nombreproductoSeleccionado=e.nombre,this.preciounitproductoSeleccionado=e.precio);let t=this.ventaData.detalles.find(a=>a.id_producto==this.idproductoSeleccionado);t||(t={id_producto:this.idproductoSeleccionado,nombre:this.nombreproductoSeleccionado,cantidad:0,series:[],precio_unitario:this.preciounitproductoSeleccionado,precio_total:0},this.ventaData.detalles.push(t)),t.series.indexOf(this.serie)<0&&(t.series.push(this.serie),t.cantidad+=1,t.precio_total=t.cantidad*t.precio_unitario),this.ventaData.total=this.totalPagar},o=>{console.log("Producto no encontrado",o)})}ngOnInit(){console.log(new Date().toISOString()),this.setFechaEmision(),this.cargarProductos(),this.cargarTipado(),this.cargarClientes()}buscarCliente(o){let t=o.target.value.toLowerCase();t?this.filtroEntidad=this.filtroEntidad.filter(n=>n.documento.toLowerCase().includes(t)||n.nombre.toLowerCase().includes(t.toLowerCase())):this.filtroEntidad=this.entidades}setFechaEmision(){let o=new Date,e=o.getDate().toString().padStart(2,"0"),t=(o.getMonth()+1).toString().padStart(2,"0"),n=o.getFullYear();this.fechaEmision=`${n}-${t}-${e}`,this.fechaVencimiento=`${n}-${t}-${e}`,this.fechaPago=`${n}-${t}-${e}`}ElegirSeries(o){o&&this.productoSerieService.getSeriesByProductoId(o).subscribe(e=>{this.SeriesProducto=e,this.idproductoSeleccionado=o;let t=this.listaProductos.find(n=>n.id===o);t&&(this.nombreproductoSeleccionado=t.nombre,this.preciounitproductoSeleccionado=t.precio),this.openIModal()},e=>{console.error("Error al obtener las series del producto:",e)})}SeleccionarSeriesProducto(o){let e=this.ventaData.detalles.find(n=>n.id_producto==this.idproductoSeleccionado);e||(e={id_producto:this.idproductoSeleccionado,nombre:this.nombreproductoSeleccionado,cantidad:0,series:[],precio_unitario:this.preciounitproductoSeleccionado,precio_total:0},this.ventaData.detalles.push(e));let t=e.series.indexOf(o);t>-1?(e.series.splice(t,1),e.cantidad-=1,e.precio_total=e.cantidad*e.precio_unitario,e.cantidad===0&&(this.ventaData.detalles=this.ventaData.detalles.filter(n=>n!==e))):(e.series.push(o),e.cantidad+=1,e.precio_total=e.cantidad*e.precio_unitario),this.ventaData.total=this.totalPagar,this.detalleVenta=this.ventaData.detalles}isSerieSeleccionada(o){let e=this.ventaData.detalles.find(t=>t.id_producto==this.idproductoSeleccionado);return e?e.series.includes(o):!1}ElegirEntidad(){this.entidad=this.selectedEntidad}ElegirProducto(){this.entidad=this.selectedEntidad}obtenerCorrelativo(){this.tpSeleccionado!==null&&this.nSeleccionado!==null&&(this.prefijo=this.tpSeleccionado,this.numeracion=this.nSeleccionado,this.correlativoService.getCorrelativoSiguiente(this.prefijo,this.numeracion).subscribe(o=>{this.correlativo=o},o=>{console.error("Error al obtener el correlativo:",o)}))}get totalGravada(){return this.totalPagar/1.18}get igv(){return this.totalGravada*.18}get totalPagar(){return this.detalleVenta.reduce((o,e)=>o+e.precio_total,0)}closeResult="";EditOpen=!1;InsertOpen=!1;openEModal(){this.EditOpen=!0}openIModal(){this.InsertOpen=!0}static \u0275fac=function(e){return new(e||c)(v(de),v(se),v(le),v(ce),v(F),v(L))};static \u0275cmp=j({type:c,selectors:[["app-sale"]],standalone:!0,features:[H],decls:105,vars:28,consts:[[1,"text-2xl","text-center","font-extrabold","text-gray-800","dark:text-white"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-3"],["role","button","tabindex","0","aria-label","Abrir modal",1,"icon-container",3,"click","keydown.enter","keydown.space"],["xmlns","http://www.w3.org/2000/svg","height","40px","viewBox","0 -960 960 960","width","30px","fill","#000000"],["d","m382-80-18.67-126.67q-17-6.33-34.83-16.66-17.83-10.34-32.17-21.67L178-192.33 79.33-365l106.34-78.67q-1.67-8.33-2-18.16-.34-9.84-.34-18.17 0-8.33.34-18.17.33-9.83 2-18.16L79.33-595 178-767.67 296.33-715q14.34-11.33 32.34-21.67 18-10.33 34.66-16L382-880h196l18.67 126.67q17 6.33 35.16 16.33 18.17 10 31.84 22L782-767.67 880.67-595l-106.34 77.33q1.67 9 2 18.84.34 9.83.34 18.83 0 9-.34 18.5Q776-452 774-443l106.33 78-98.66 172.67-118-52.67q-14.34 11.33-32 22-17.67 10.67-35 16.33L578-80H382Zm55.33-66.67h85l14-110q32.34-8 60.84-24.5T649-321l103.67 44.33 39.66-70.66L701-415q4.33-16 6.67-32.17Q710-463.33 710-480q0-16.67-2-32.83-2-16.17-7-32.17l91.33-67.67-39.66-70.66L649-638.67q-22.67-25-50.83-41.83-28.17-16.83-61.84-22.83l-13.66-110h-85l-14 110q-33 7.33-61.5 23.83T311-639l-103.67-44.33-39.66 70.66L259-545.33Q254.67-529 252.33-513 250-497 250-480q0 16.67 2.33 32.67 2.34 16 6.67 32.33l-91.33 67.67 39.66 70.66L311-321.33q23.33 23.66 51.83 40.16 28.5 16.5 60.84 24.5l13.66 110Zm43.34-200q55.33 0 94.33-39T614-480q0-55.33-39-94.33t-94.33-39q-55.67 0-94.5 39-38.84 39-38.84 94.33t38.84 94.33q38.83 39 94.5 39ZM480-480Z"],["tabindex","-1","aria-hidden","true","class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"grid","gap-6","mb-6","md:grid-cols-3"],["for","tipoComprobante",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tipoComprobante","name","tipoComprobante",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","nro",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","nro","name","nro",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","change","ngModel"],[3,"value"],["for","co",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","co","name","correlativo","disabled","","placeholder","0","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],[1,"mb-6"],["for","entidad",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-3"],["type","text","id","entidad","name","entidad","placeholder","Buscar por cliente...","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input","ngModelChange","ngModel"],["id","selectedEntidad","name","selectedEntidad","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"change","ngModelChange","ngModel"],["type","button",1,"inline-flex","items-center","rounded-lg","bg-blue-700","px-5","py-2.5","text-sm","font-medium","text-white","hover:bg-blue-800","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["for","nota",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","nota","name","nota","placeholder","Nota venta",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"grid","gap-6","mb-6","md:grid-cols-2"],["for","serie",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","serie","name","serie","placeholder","Ingrese serie...","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","keyup.enter","ngModel"],["for","n_producto",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","n_producto","name","n_producto",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[4,"ngIf"],["for","gra",1,"form-label"],["type","text","id","gra","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["for","igv",1,"form-label"],["type","text","id","igv","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["for","pagar",1,"form-label"],["type","text","id","pagar","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],[1,"my-4"],["type","submit",1,"w-full","items-center","rounded-lg","bg-blue-700","px-5","py-2.5","text-sm","font-medium","text-white","hover:bg-blue-800","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["tabindex","-1","aria-hidden","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"fixed","inset-0","bg-black","bg-opacity-50"],[1,"relative","flex","items-center","justify-center","min-h-screen","p-4"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700","max-w-2xl","w-full"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","space-y-4"],["for","tipoPagoSelec",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tipoPagoSelec","name","tipoPagoSelec",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","tipoCondSelec",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2"],["id","tipoCondSelec","name","tipoCondSelec",1,"block","w-full","p-2","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"h-10","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-3","py-1","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["for","fecha-emision",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-emision","name","fechaEmision","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","fecha-venci",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-venci","name","fechaVencimiento","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","fecha-pago",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-pago","name","fechaPago","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","formaPago",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","formaPago","name","formaPago",1,"block","w-full","p-2","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["for","tipoMoneda",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tipoMoneda","name","tipoMoneda",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","tipoCambio",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","tipoCambio","name","tipoCambio","placeholder","Tipo de Cambio...",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","w-full","p-4","md:p-5","space-y-4","justify-center"],[1,"max-h-96","overflow-y-auto","w-full"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"px-6","py-4"],["type","button",1,"focus:outline-none","text-white","focus:ring-4","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","mb-2",3,"click","ngClass"],[3,"click","value"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"]],template:function(e,t){e&1&&(i(0,"p",0),d(1,"Facturaci\xF3n: Salida"),r(),b(2,"br"),i(3,"div",1)(4,"h2",2)(5,"b"),d(6,"Informaci\xF3n"),r()(),i(7,"div",3),S("click",function(){return t.openEModal()})("keydown.enter",function(){return t.openEModal()})("keydown.space",function(){return t.openEModal()}),P(),i(8,"svg",4),b(9,"path",5),r()()(),y(10,xe,65,11,"div",6)(11,Ce,24,1,"div",6),T(),i(12,"form")(13,"div",7)(14,"div")(15,"label",8),d(16,"Tipo Comprobante"),r(),i(17,"select",9),g("ngModelChange",function(a){return u(t.tpSeleccionado,a)||(t.tpSeleccionado=a),a}),S("change",function(){return t.obtenerCorrelativo()}),i(18,"option",10),d(19,"Elegir..."),r(),y(20,we,2,3,"option",11),r()(),i(21,"div")(22,"label",12),d(23,"Nro Venta"),r(),i(24,"select",13),g("ngModelChange",function(a){return u(t.nSeleccionado,a)||(t.nSeleccionado=a),a}),S("change",function(){return t.obtenerCorrelativo()}),i(25,"option",10),d(26,"Elegir..."),r(),i(27,"option",14),d(28,"1"),r(),i(29,"option",14),d(30,"2"),r(),i(31,"option",14),d(32,"3"),r()()(),i(33,"div")(34,"label",15),d(35,"Correlativo"),r(),b(36,"input",16),r()(),i(37,"div",17)(38,"label",18),d(39,"Cliente (Id/Nombre)"),r(),i(40,"div",19)(41,"input",20),S("input",function(a){return t.buscarCliente(a)}),g("ngModelChange",function(a){return u(t.entidad,a)||(t.entidad=a),a}),r(),i(42,"select",21),S("change",function(){return t.ElegirEntidad()}),g("ngModelChange",function(a){return u(t.selectedEntidad,a)||(t.selectedEntidad=a),a}),i(43,"option",10),d(44,"Elegir..."),r(),y(45,Ee,2,3,"option",11),r(),i(46,"button",22),d(47,"Nuevo"),r()()(),i(48,"div",17)(49,"label",23),d(50,"Nota (Opcional)"),r(),i(51,"input",24),g("ngModelChange",function(a){return u(t.nota,a)||(t.nota=a),a}),r()(),i(52,"div",25)(53,"div")(54,"label",26),d(55,"Serie Producto"),r(),i(56,"input",27),g("ngModelChange",function(a){return u(t.serie,a)||(t.serie=a),a}),S("keyup.enter",function(){return t.buscarProducto()}),r()(),i(57,"div")(58,"label",28),d(59,"."),r(),i(60,"select",29),g("ngModelChange",function(a){return u(t.selectedProducto,a)||(t.selectedProducto=a),a}),i(61,"option",10),d(62,"Elegir..."),r(),R(63,Me,2,2,"option",14,O),r()()()(),b(65,"hr"),i(66,"div",30)(67,"table",31)(68,"thead",32)(69,"tr")(70,"th",33),d(71,"Cantidad"),r(),i(72,"th",33),d(73,"Nombre"),r(),i(74,"th",33),d(75,"P. Unit"),r(),i(76,"th",33),d(77,"P. Total"),r()()(),y(78,Te,2,1,"tbody",34),r()(),b(79,"hr")(80,"br"),i(81,"div",25)(82,"div")(83,"label",35),d(84,"Gravada (sin IGV)"),r()(),i(85,"div"),b(86,"input",36),k(87,"currency"),r()(),i(88,"div",25)(89,"div")(90,"label",37),d(91,"Impuesto IGV (18%)"),r()(),i(92,"div"),b(93,"input",38),k(94,"currency"),r()(),i(95,"div",25)(96,"div")(97,"label",39),d(98,"Total Pagar"),r()(),i(99,"div"),b(100,"input",40),k(101,"currency"),r()(),b(102,"hr",41),i(103,"button",42),S("click",function(){return t.guardarProductos()}),d(104,"Continuar con la venta"),r()),e&2&&(l(10),s("ngIf",t.EditOpen),l(),s("ngIf",t.InsertOpen),l(6),m("ngModel",t.tpSeleccionado),l(3),s("ngForOf",t.tipoComprobante),l(4),m("ngModel",t.nSeleccionado),l(3),s("value",1),l(2),s("value",2),l(2),s("value",3),l(5),s("value",t.correlativo!==null?t.correlativo:""),l(5),m("ngModel",t.entidad),l(),m("ngModel",t.selectedEntidad),l(3),s("ngForOf",t.filtroEntidad),l(6),m("ngModel",t.nota),l(5),m("ngModel",t.serie),l(4),m("ngModel",t.selectedProducto),l(3),q(t.listaProductos),l(15),s("ngIf",t.ventaData.detalles&&t.ventaData.detalles.length>0),l(8),s("value",C(87,19,t.totalGravada,"S/. ")),l(7),s("value",C(94,22,t.igv,"S/. ")),l(7),s("value",C(101,25,t.totalPagar,"S/. ")))},dependencies:[z,ae,te,oe,re,Y,ie,K,X,ne,ee,$,Z,G,A,U]})};export{me as SaleComponent};
