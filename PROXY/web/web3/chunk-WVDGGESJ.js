import{a as de}from"./chunk-SLUKO32R.js";import{a as le}from"./chunk-KTRCS3B2.js";import{a as ne}from"./chunk-F5UXNOVL.js";import{a as ae}from"./chunk-G5R4ZXZD.js";import{a as ue}from"./chunk-SJWRDQVH.js";import{a as z,b as J,c as Y,d as K,e as X,f as $,h as ee,i as te,j as ie,k as re,l as oe}from"./chunk-IUFCXTOM.js";import{a as Z,c as Q}from"./chunk-IRNCR7DW.js";import{e as U}from"./chunk-OMO3MP2D.js";import{a as A,c as G}from"./chunk-FRM5A7CD.js";import{l as B,m as N,o as H,p as j}from"./chunk-FFKOQB2C.js";import{Aa as _,N as I,Na as S,Qa as m,S as E,Ta as F,Ua as O,Va as R,Wa as t,X as D,Xa as o,Ya as y,Za as M,ab as f,bb as T,ea as u,fa as p,ga as W,ha as L,hb as n,ib as v,jb as P,kb as C,lb as g,mb as h,nb as b,pb as q,tb as w,ub as k,za as l}from"./chunk-SLZJNV7T.js";import{e as ce}from"./chunk-EQDQRRRY.js";var V=ce(ue());var x=class s{constructor(r,i){this.http=r;this.authService=i;this.authService.usuario$.subscribe(e=>{this.tenantId=e.tenantId,console.log("Tenant ID:",this.tenantId)})}Url=Z.API_URL+"/inventory/compra";tenantId=null;getHeaders(){return new A({Authorization:`Bearer ${localStorage.getItem("authToken")}`,tenantId:this.tenantId||""})}registrar(r){return r.usuario_id=JSON.parse(localStorage.getItem("User")).id,this.http.post(this.Url,r,{headers:this.getHeaders()})}Listar(){return this.http.get(this.Url,{headers:this.getHeaders()})}static \u0275fac=function(i){return new(i||s)(E(G),E(Q))};static \u0275prov=I({token:s,factory:s.\u0275fac,providedIn:"root"})};function ge(s,r){if(s&1&&(t(0,"option",55),n(1),o()),s&2){let i=r.$implicit;m("value",i.id),l(),C(" ",i.id," | ",i.descripcion,"")}}function he(s,r){if(s&1&&(t(0,"option",55),n(1),o()),s&2){let i=r.$implicit;m("value",i.id),l(),C(" ",i.id," | ",i.descripcion,"")}}function be(s,r){if(s&1&&(t(0,"option",55),n(1),o()),s&2){let i=r.$implicit;m("value",i.id),l(),C("",i.id," | ",i.nombre,"")}}function fe(s,r){if(s&1){let i=M();t(0,"tr")(1,"td",68),n(2),o(),t(3,"td",68)(4,"button",69),f("click",function(){let d=u(i).$implicit,c=T();return p(c.SeleccionarSeriesProducto(d))}),n(5,"Eliminar "),o()()()}if(s&2){let i=r.$implicit;l(2),v(i)}}function ye(s,r){if(s&1&&(t(0,"option",55),n(1),o()),s&2){let i=r.$implicit;m("value",i.id),l(),C(" ",i.documento," | ",i.nombre," ")}}function Se(s,r){if(s&1&&(t(0,"option",55),n(1),o()),s&2){let i=r.$implicit;m("value",i.id),l(),P(" ",i.nombre,"")}}function _e(s,r){if(s&1&&(t(0,"tr",71)(1,"td",68),n(2),o(),t(3,"td",68),n(4),o(),t(5,"td",68),n(6),w(7,"currency"),o(),t(8,"td",68),n(9),w(10,"currency"),o()()),s&2){let i=r.$implicit;l(2),v(i.cantidad),l(2),v(i.nombre),l(2),v(k(7,4,i.precio_unitario,"S/. ")),l(3),v(k(10,7,i.precio_total,"S/. "))}}function ve(s,r){if(s&1&&(t(0,"tbody"),S(1,_e,11,10,"tr",70),o()),s&2){let i=T();l(),m("ngForOf",i.ventaData.detalles)}}var se=class s{constructor(r,i,e,d,c){this.productoService=r;this.tipadoService=i;this.entidadService=e;this.registroCompraService=d;this.router=c}fechaEmision;fechaVencimiento;fechaPago;producto=[];filtrolistaProductos=[];listaProductos=[];SeriesProducto=[];idproductoSeleccionado="";nombreproductoSeleccionado="";preciounitproductoSeleccionado=0;tipadoDocumentos;tipoComprobante=[];tipoCondicion=[];tipoPago=[];tipoMoneda=[];tipoMonedaSelec=0;productosSeleccionados=[];nota="";tipoCambio=3;formaPago="1";RegistroVentaService;documento="F001-0000";tpSeleccionado="";nSeleccionado=1;serie="";entidad="";productoselect=null;selectedProducto="";selectedEntidad="";tipoCondSelec=0;tipoPagoSelec=0;productoSerie=[];ventaData={documento:this.documento,documento_cliente:this.entidad,usuario_id:"",id_tipocondicion:this.tipoCondSelec,id_tipopago:this.tipoPagoSelec,id_tipomoneda:this.tipoMonedaSelec,tipo_cambio:this.tipoCambio,fecha_emision:"2024-06-01T15:30:00.000",fecha_vencimiento:"2024-06-01T15:30:00.000",nota:this.nota,gravada:this.totalGravada,impuesto:this.igv,total:this.totalPagar,fechapago:"2024-06-01T15:30:00.000",formapago:this.formaPago,detalles:[]};guardarDatos(){this.ventaData.documento=this.documento,this.ventaData.documento_cliente=this.entidad,this.ventaData.id_tipocondicion=this.tipoCondSelec,this.ventaData.id_tipopago=this.tipoPagoSelec,this.ventaData.id_tipomoneda=this.tipoMonedaSelec,this.ventaData.tipo_cambio=this.tipoCambio,this.ventaData.nota=this.nota,this.ventaData.gravada=this.totalGravada,this.ventaData.impuesto=this.igv,this.ventaData.total=this.totalPagar,this.ventaData.formapago=this.formaPago,this.fechaEmision&&(this.ventaData.fecha_emision=`${this.fechaEmision}T00:00:00.00`),this.fechaVencimiento&&(this.ventaData.fecha_vencimiento=`${this.fechaVencimiento}T00:00:00.00`),this.fechaPago&&(this.ventaData.fechapago=`${this.fechaPago}T00:00:00.00`)}guardarProductos(){this.guardarDatos(),this.registroCompraService.registrar(this.ventaData).subscribe(r=>{this.ventaData.detalles=[],V.default.fire({icon:"success",title:"Compra Registrada",text:r.message})},r=>{V.default.fire({icon:"error",title:"Error en Compra",text:r.error.message})})}removerProducto(r){let i=this.productoSerie.findIndex(e=>e.id===r.id);i!==-1&&(this.productoSerie[i].cantidad>1?this.productoSerie[i].cantidad--:this.productoSerie.splice(i,1),this.ventaData.detalles=this.ventaData?.detalles.filter(e=>e.id_producto!==r.id))}cargarProductos(){this.productoService.getListaProductosFact().subscribe(r=>{this.listaProductos=r,this.filtrolistaProductos=this.listaProductos,console.log(this.filtrolistaProductos)},r=>{console.error("Error al obtener los productos:",r)})}cargarTipado(){this.tipadoService.getTipadoDocumentos().subscribe(r=>{this.tipadoDocumentos=r,this.tipoComprobante=r.tipocomprobantes,this.tipoCondicion=r.tipocondiciones,this.tipoPago=r.tipopagos,this.tipoMoneda=r.tipomonedas,this.tipoComprobante.length>0&&(this.tpSeleccionado=this.tipoComprobante[0].prefijo),this.tipoCondicion.length>0&&(this.tipoCondSelec=this.tipoCondicion[0].id),this.tipoPago.length>0&&(this.tipoPagoSelec=this.tipoPago[0].id),this.tipoMoneda.length>0&&(this.tipoMonedaSelec=this.tipoMoneda[0].id)},r=>{console.error("Error al obtener los tipos de documentos:",r)})}cargarClientes(){this.entidadService.getEntidades().subscribe(r=>{this.entidades=r,this.filtroEntidad=r})}agregarProductoDetalle(){let r=this.ventaData.detalles.findIndex(i=>i.id_producto==this.idproductoSeleccionado);if(r!==-1){if(!this.ventaData.detalles[r].series.includes(this.serie)){this.ventaData.detalles[r].series.push(this.serie);let i=this.ventaData.detalles[r].cantidad+1;this.ventaData.detalles[r].cantidad=i,this.ventaData.detalles[r].precio_total=this.ventaData.detalles[r].precio_unitario*i,this.SeriesProducto=this.ventaData.detalles[r].series}}else{let i={id_producto:this.selectedProducto,nombre:this.nombreproductoSeleccionado,cantidad:1,series:[this.serie],precio_unitario:this.preciounitproductoSeleccionado,precio_total:this.preciounitproductoSeleccionado*1};this.ventaData.detalles.push(i),this.SeriesProducto=[this.serie]}console.log("Detalle de venta:",this.ventaData.detalles)}buscarProducto(r){let e=r.target.value.toLowerCase();this.filtrolistaProductos=this.listaProductos,e?this.filtrolistaProductos=this.filtrolistaProductos.filter(d=>d.nombre.toLowerCase().includes(e)||d.nombre.toLowerCase().includes(e.toLowerCase())):this.filtrolistaProductos=this.listaProductos}entidades=[];filtroEntidad=[];ngOnInit(){this.setFechaEmision(),this.cargarProductos(),this.cargarTipado(),this.cargarClientes()}buscarCliente(r){let e=r.target.value.toLowerCase();e?this.filtroEntidad=this.filtroEntidad.filter(d=>d.id.toLowerCase().includes(e)||d.documento.toLowerCase().includes(e)||d.nombre.toLowerCase().includes(e.toLowerCase())):this.filtroEntidad=this.entidades}setFechaEmision(){let r=new Date,i=r.getDate().toString().padStart(2,"0"),e=(r.getMonth()+1).toString().padStart(2,"0"),d=r.getFullYear();this.fechaEmision=`${d}-${e}-${i}`,this.fechaVencimiento=`${d}-${e}-${i}`,this.fechaPago=`${d}-${e}-${i}`}SerieOpen=!1;onChangeProductoSerie(r){let i=r.target.value;this.ElegirSeries(i),this.ToggleIModal()}ElegirSeries(r){if(r){this.idproductoSeleccionado=r;let i=this.ventaData.detalles.find(d=>d.id_producto===r);i?this.SeriesProducto=i.series:this.SeriesProducto=[];let e=this.listaProductos.find(d=>d.id===r);e&&(this.nombreproductoSeleccionado=e.nombre,this.preciounitproductoSeleccionado=e.precio)}}SeleccionarSeriesProducto(r){let i=this.ventaData.detalles.find(e=>e.id_producto==this.idproductoSeleccionado);if(i)if(i.cantidad==1)this.ventaData.detalles=this.ventaData.detalles.filter(e=>e!=i),this.SeriesProducto=[];else{i.series=i.series.filter(d=>d!=r);let e=i.cantidad-1;i.cantidad=e,i.precio_total=i.precio_unitario*e,this.SeriesProducto=i.series}}ElegirEntidad(){this.entidad=this.selectedEntidad,this.filtroEntidad=this.entidades}ElegirProducto(){this.entidad=this.selectedEntidad}get totalGravada(){return this.totalPagar/1.18}get igv(){return this.totalGravada*.18}get totalPagar(){return this.ventaData?.detalles.reduce((r,i)=>r+i.precio_total,0)}EditOpen=!1;InsertOpen=!1;ToggleEModal(){this.EditOpen=!this.EditOpen}ToggleIModal(){this.SerieOpen=!this.SerieOpen}CrearNuevaEntidad(){this.router.navigate(["/dashboard/entidades"])}static \u0275fac=function(i){return new(i||s)(_(ne),_(de),_(le),_(x),_(U))};static \u0275cmp=D({type:s,selectors:[["app-purchase"]],standalone:!0,features:[q],decls:160,vars:38,consts:[["buscadorproducto",""],[1,"text-2xl","text-center","font-extrabold","text-gray-800","dark:text-white"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-3"],["role","button","tabindex","0","aria-label","Abrir modal",1,"icon-container",3,"click","keydown.enter","keydown.space"],["xmlns","http://www.w3.org/2000/svg","height","40px","viewBox","0 -960 960 960","width","30px","fill","#000000"],["d","m382-80-18.67-126.67q-17-6.33-34.83-16.66-17.83-10.34-32.17-21.67L178-192.33 79.33-365l106.34-78.67q-1.67-8.33-2-18.16-.34-9.84-.34-18.17 0-8.33.34-18.17.33-9.83 2-18.16L79.33-595 178-767.67 296.33-715q14.34-11.33 32.34-21.67 18-10.33 34.66-16L382-880h196l18.67 126.67q17 6.33 35.16 16.33 18.17 10 31.84 22L782-767.67 880.67-595l-106.34 77.33q1.67 9 2 18.84.34 9.83.34 18.83 0 9-.34 18.5Q776-452 774-443l106.33 78-98.66 172.67-118-52.67q-14.34 11.33-32 22-17.67 10.67-35 16.33L578-80H382Zm55.33-66.67h85l14-110q32.34-8 60.84-24.5T649-321l103.67 44.33 39.66-70.66L701-415q4.33-16 6.67-32.17Q710-463.33 710-480q0-16.67-2-32.83-2-16.17-7-32.17l91.33-67.67-39.66-70.66L649-638.67q-22.67-25-50.83-41.83-28.17-16.83-61.84-22.83l-13.66-110h-85l-14 110q-33 7.33-61.5 23.83T311-639l-103.67-44.33-39.66 70.66L259-545.33Q254.67-529 252.33-513 250-497 250-480q0 16.67 2.33 32.67 2.34 16 6.67 32.33l-91.33 67.67 39.66 70.66L311-321.33q23.33 23.66 51.83 40.16 28.5 16.5 60.84 24.5l13.66 110Zm43.34-200q55.33 0 94.33-39T614-480q0-55.33-39-94.33t-94.33-39q-55.67 0-94.5 39-38.84 39-38.84 94.33t38.84 94.33q38.83 39 94.5 39ZM480-480Z"],[3,"close","isOpen","title"],[1,"mb-6"],["for","tipoPagoSelec",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tipoPagoSelec","name","tipoPagoSelec",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","tipoCondSelec",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2"],["id","tipoCondSelec","name","tipoCondSelec",1,"block","w-full","p-2","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"h-10","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-3","py-1","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["for","fecha-emision",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-emision","name","fechaEmision","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","fecha-venci",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-venci","name","fechaVencimiento","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","fecha-pago",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fecha-pago","name","fechaPago","placeholder","yyyy-mm-dd",1,"w-full","p-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","formaPago",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","formaPago","name","formaPago",1,"block","w-full","p-2","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["for","tipoMoneda",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tipoMoneda","name","tipoMoneda",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","tipoCambio",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","tipoCambio","name","tipoCambio","placeholder","Tipo de Cambio...",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","flex-row","justify-between","w-full"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"space-y-4"],["for","insertseries",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","insertseries","name","insertseries","placeholder","Ingrese la serie del producto...",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","keyup.enter","ngModel"],[2,"max-height","300px","overflow-y","auto","margin","auto"],[2,"margin","auto","width","100%"],["scope","col",1,"px-6","py-3"],[4,"ngFor","ngForOf"],["for","co",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","co","name","co","placeholder","0","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","entidad",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-3"],["type","text","id","entidad","name","entidad","placeholder","Buscar por cliente...","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"input"],["id","selectedEntidad","name","selectedEntidad","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"change","ngModelChange","ngModel"],["type","button",1,"inline-flex","items-center","rounded-lg","bg-blue-700","px-5","py-2.5","text-sm","font-medium","text-white","hover:bg-blue-800","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["for","nota",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","nota","name","nota","placeholder","Nota venta",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"grid","gap-6","mb-6","md:grid-cols-2"],["for","serie",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","id","serie","name","serie","placeholder","Ingrese serie...","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","input","ngModel"],["for","n_producto",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","n_producto","name","n_producto",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],[4,"ngIf"],["for","gra",1,"form-label"],["type","text","id","gra","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["for","igv",1,"form-label"],["type","text","id","igv","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["for","pagar",1,"form-label"],["type","text","id","pagar","disabled","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],[1,"my-4"],["type","submit",1,"w-full","items-center","rounded-lg","bg-blue-700","px-5","py-2.5","text-sm","font-medium","text-white","hover:bg-blue-800","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],[1,"px-6","py-4"],["type","button",1,"focus:outline-none","text-white","bg-red-700","hover:bg-red-800","focus:ring-4","focus:ring-red-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","mb-2","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-900",3,"click"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"]],template:function(i,e){if(i&1){let d=M();t(0,"p",1),n(1,"Facturaci\xF3n: Ingreso"),o(),y(2,"br"),t(3,"div",2)(4,"h2",3)(5,"b"),n(6,"Informaci\xF3n"),o()(),t(7,"div",4),f("click",function(){return u(d),p(e.ToggleEModal())})("keydown.enter",function(){return u(d),p(e.ToggleEModal())})("keydown.space",function(){return u(d),p(e.ToggleEModal())}),W(),t(8,"svg",5),y(9,"path",6),o()()(),L(),t(10,"app-modal",7),f("close",function(){return u(d),p(e.ToggleEModal())}),t(11,"div",8)(12,"label",9),n(13,"Tipo Pago:"),o(),t(14,"select",10),b("ngModelChange",function(a){return u(d),h(e.tipoPagoSelec,a)||(e.tipoPagoSelec=a),p(a)}),t(15,"option",11),n(16,"Elegir..."),o(),S(17,ge,2,3,"option",12),o()(),t(18,"div",8)(19,"label",13),n(20,"Tipo de Condici\xF3n"),o(),t(21,"div",14)(22,"select",15),b("ngModelChange",function(a){return u(d),h(e.tipoCondSelec,a)||(e.tipoCondSelec=a),p(a)}),t(23,"option",11),n(24,"Elegir..."),o(),S(25,he,2,3,"option",12),o(),t(26,"button",16),n(27,"Agregar"),o()()(),t(28,"div",8)(29,"label",17),n(30,"Fecha de Emisi\xF3n"),o(),t(31,"input",18),b("ngModelChange",function(a){return u(d),h(e.fechaEmision,a)||(e.fechaEmision=a),p(a)}),o()(),t(32,"div",8)(33,"label",19),n(34,"Fecha de Vencimiento"),o(),t(35,"input",20),b("ngModelChange",function(a){return u(d),h(e.fechaVencimiento,a)||(e.fechaVencimiento=a),p(a)}),o()(),t(36,"div",8)(37,"label",21),n(38,"Fecha de Pago"),o(),t(39,"input",22),b("ngModelChange",function(a){return u(d),h(e.fechaPago,a)||(e.fechaPago=a),p(a)}),o()(),t(40,"div",8)(41,"label",23),n(42,"Forma de Pago"),o(),t(43,"select",24),b("ngModelChange",function(a){return u(d),h(e.formaPago,a)||(e.formaPago=a),p(a)}),t(44,"option",11),n(45,"Elegir..."),o(),t(46,"option",25),n(47,"Forma 1"),o(),t(48,"option",26),n(49,"Forma 2"),o(),t(50,"option",27),n(51,"Forma 3"),o()()(),t(52,"div",8)(53,"label",28),n(54,"Tipo Moneda"),o(),t(55,"select",29),b("ngModelChange",function(a){return u(d),h(e.tipoMonedaSelec,a)||(e.tipoMonedaSelec=a),p(a)}),t(56,"option",11),n(57,"Elegir..."),o(),S(58,be,2,3,"option",12),o()(),t(59,"div",8)(60,"label",30),n(61,"Tipo de Cambio"),o(),t(62,"input",31),b("ngModelChange",function(a){return u(d),h(e.tipoCambio,a)||(e.tipoCambio=a),p(a)}),o()()(),t(63,"app-modal",7),f("close",function(){return u(d),p(e.ToggleIModal())}),t(64,"div",32)(65,"div")(66,"h3",33),n(67),o()(),t(68,"div")(69,"h4",33),n(70),o()()(),t(71,"div",34)(72,"div",8)(73,"label",35),n(74,"Serie del Producto"),o(),t(75,"input",36),b("ngModelChange",function(a){return u(d),h(e.serie,a)||(e.serie=a),p(a)}),f("keyup.enter",function(){return u(d),p(e.agregarProductoDetalle())}),o()(),t(76,"div",37)(77,"table",38)(78,"thead")(79,"tr")(80,"th",39),n(81,"Serie"),o(),t(82,"th",39),n(83,"Seleccionar"),o()()(),t(84,"tbody"),S(85,fe,6,1,"tr",40),o()()()()(),t(86,"form")(87,"div",8)(88,"label",41),n(89,"Correlativo"),o(),t(90,"input",42),b("ngModelChange",function(a){return u(d),h(e.documento,a)||(e.documento=a),p(a)}),o()(),t(91,"div",8)(92,"label",43),n(93,"Cliente (Id/Nombre)"),o(),t(94,"div",44)(95,"input",45),f("input",function(a){return u(d),p(e.buscarCliente(a))}),o(),t(96,"select",46),f("change",function(){return u(d),p(e.ElegirEntidad())}),b("ngModelChange",function(a){return u(d),h(e.selectedEntidad,a)||(e.selectedEntidad=a),p(a)}),t(97,"option",11),n(98,"Elegir..."),o(),S(99,ye,2,3,"option",12),o(),t(100,"button",47),f("click",function(){return u(d),p(e.CrearNuevaEntidad())}),n(101,"Nuevo"),o()()(),t(102,"div",8)(103,"label",48),n(104,"Nota (Opcional)"),o(),t(105,"input",49),b("ngModelChange",function(a){return u(d),h(e.nota,a)||(e.nota=a),p(a)}),o()(),t(106,"div",50)(107,"div")(108,"label",51),n(109,"Agregar Producto: Serie"),o(),t(110,"input",52),b("ngModelChange",function(a){return u(d),h(e.serie,a)||(e.serie=a),p(a)}),f("input",function(a){return u(d),p(e.buscarProducto(a))}),o()(),t(111,"div")(112,"label",53),n(113,"."),o(),t(114,"select",54,0),b("ngModelChange",function(a){return u(d),h(e.selectedProducto,a)||(e.selectedProducto=a),p(a)}),f("change",function(a){return u(d),p(e.onChangeProductoSerie(a))}),t(116,"option",11),n(117,"Elegir..."),o(),O(118,Se,2,2,"option",55,F),o()()()(),y(120,"hr"),t(121,"div",56)(122,"table",57)(123,"thead",58)(124,"tr")(125,"th",39),n(126,"Cantidad"),o(),t(127,"th",39),n(128,"Nombre"),o(),t(129,"th",39),n(130,"P. Unit"),o(),t(131,"th",39),n(132,"P. Total"),o()()(),S(133,ve,2,1,"tbody",59),o()(),y(134,"hr")(135,"br"),t(136,"div",50)(137,"div")(138,"label",60),n(139,"Gravada (sin IGV)"),o()(),t(140,"div"),y(141,"input",61),w(142,"currency"),o()(),t(143,"div",50)(144,"div")(145,"label",62),n(146,"Impuesto IGV (18%)"),o()(),t(147,"div"),y(148,"input",63),w(149,"currency"),o()(),t(150,"div",50)(151,"div")(152,"label",64),n(153,"Total Pagar"),o()(),t(154,"div"),y(155,"input",65),w(156,"currency"),o()(),y(157,"hr",66),t(158,"button",67),f("click",function(){return u(d),p(e.guardarProductos())}),n(159,"Continuar con la compra"),o()}i&2&&(l(10),m("isOpen",e.EditOpen)("title","Editar Tipado"),l(4),g("ngModel",e.tipoPagoSelec),l(3),m("ngForOf",e.tipoPago),l(5),g("ngModel",e.tipoCondSelec),l(3),m("ngForOf",e.tipoCondicion),l(6),g("ngModel",e.fechaEmision),l(4),g("ngModel",e.fechaVencimiento),l(4),g("ngModel",e.fechaPago),l(4),g("ngModel",e.formaPago),l(12),g("ngModel",e.tipoMonedaSelec),l(3),m("ngForOf",e.tipoMoneda),l(4),g("ngModel",e.tipoCambio),l(),m("isOpen",e.SerieOpen)("title","Producto: "+e.nombreproductoSeleccionado),l(4),P(" Producto: ",e.nombreproductoSeleccionado," "),l(3),P(" Cant: ",e.SeriesProducto.length," "),l(5),g("ngModel",e.serie),l(10),m("ngForOf",e.SeriesProducto),l(5),g("ngModel",e.documento),l(6),g("ngModel",e.selectedEntidad),l(3),m("ngForOf",e.filtroEntidad),l(6),g("ngModel",e.nota),l(5),g("ngModel",e.serie),l(4),g("ngModel",e.selectedProducto),l(4),R(e.filtrolistaProductos),l(15),m("ngIf",e.ventaData.detalles&&e.ventaData.detalles.length>0),l(8),m("value",k(142,29,e.totalGravada,"S/. ")),l(7),m("value",k(149,32,e.igv,"S/. ")),l(7),m("value",k(156,35,e.totalPagar,"S/. ")))},dependencies:[H,oe,$,te,ie,z,ee,J,Y,re,X,K,j,B,N,ae]})};export{se as PurchaseComponent};
