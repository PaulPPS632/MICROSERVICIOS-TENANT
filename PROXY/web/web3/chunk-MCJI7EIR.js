import{a as N}from"./chunk-G5R4ZXZD.js";import{a as W}from"./chunk-SJWRDQVH.js";import{a as _,b as C,c as v,d as M,e as F,f as E,k as I,l as R}from"./chunk-IUFCXTOM.js";import{c as S}from"./chunk-IRNCR7DW.js";import{e as w}from"./chunk-OMO3MP2D.js";import"./chunk-FRM5A7CD.js";import{p as k}from"./chunk-FFKOQB2C.js";import{Qa as h,T as u,Wa as e,X as y,Xa as t,Ya as g,ab as d,hb as o,lb as p,mb as c,nb as f,pb as x,za as s}from"./chunk-SLZJNV7T.js";import{e as T}from"./chunk-EQDQRRRY.js";var m=T(W());var D=class b{router=u(w);authService=u(S);FlagModal=!1;usuario={nombre:"",apellido:"",documento:"",direccion:"",telefono:"",email:"",password:"",tenantId:"",tenantName:"",tiponegocio:"",RolId:4};login(){this.authService.Logged(this.usuario.email,this.usuario.password).subscribe(r=>{console.log(r.usuario.Rol.nombre),r.usuario.Rol.nombre=="alumno"?(console.log("entra"),this.router.navigate(["/panel"])):(console.log("entra dashboard"),this.router.navigate(["/dashboard"]))},r=>{m.default.fire({icon:"error",title:r.error.message})})}validateDatos(){return this.usuario.nombre!==""&&this.usuario.apellido!==""&&this.usuario.documento!==""&&this.usuario.direccion!==""&&this.usuario.telefono!==""&&this.usuario.email!==""&&this.usuario.password!==""&&this.usuario.tenantId!==""&&this.usuario.RolId!==null}register(){this.authService.register(this.usuario).subscribe(r=>{this.FlagModal=!1,m.default.fire({icon:"success",title:"Entidad Registrada",text:r.message})},r=>{m.default.fire({icon:"error",title:r.error.message})})}toggleModal(){this.FlagModal=!this.FlagModal}getDismissReason(r){return""}static \u0275fac=function(n){return new(n||b)};static \u0275cmp=y({type:b,selectors:[["app-sign-in"]],standalone:!0,features:[x],decls:34,vars:4,consts:[[1,"bg-gray-50","dark:bg-gray-900"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","https://cdn-icons-png.flaticon.com/512/1170/1170584.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6",3,"ngSubmit"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","placeholder","nombre@compania.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","aria-describedby","remember","type","checkbox",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300","dark:bg-gray-700","dark:border-gray-600","dark:focus:ring-primary-600","dark:ring-offset-gray-800"],[1,"ml-3","text-sm"],["for","remember",1,"text-gray-500","dark:text-gray-300"],["href","#",1,"text-sm","font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["type","submit",1,"w-full","text-white","bg-indigo-600","hover:bg-indigo-700","focus:ring-4","focus:outline-none","focus:ring-indigo-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-indigo-600","dark:hover:bg-indigo-700","dark:focus:ring-indigo-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["href","#",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500",3,"click"],[3,"close","isOpen","title"]],template:function(n,i){n&1&&(e(0,"section",0)(1,"div",1)(2,"a",2),g(3,"img",3),o(4," Empresa PR-Fact "),t(),e(5,"div",4)(6,"div",5)(7,"h1",6),o(8," Iniciar sesi\xF3n "),t(),e(9,"form",7),d("ngSubmit",function(){return i.login()}),e(10,"div")(11,"label",8),o(12,"Usuario"),t(),e(13,"input",9),f("ngModelChange",function(a){return c(i.usuario.email,a)||(i.usuario.email=a),a}),t()(),e(14,"div")(15,"label",10),o(16,"Contrase\xF1a"),t(),e(17,"input",11),f("ngModelChange",function(a){return c(i.usuario.password,a)||(i.usuario.password=a),a}),t()(),e(18,"div",12)(19,"div",13)(20,"div",14),g(21,"input",15),t(),e(22,"div",16)(23,"label",17),o(24,"Recordar contrase\xF1a"),t()()(),e(25,"a",18),o(26,"\xBFOlvid\xF3 su contrase\xF1a?"),t()(),e(27,"button",19),o(28,"Iniciar sesi\xF3n"),t(),e(29,"p",20),o(30," \xBFA\xFAn no tiene una cuenta? "),e(31,"a",21),d("click",function(){return i.toggleModal()}),o(32,"Reg\xEDstrese aqu\xED"),t()()()()()()(),e(33,"app-modal",22),d("close",function(){return i.toggleModal()}),t()),n&2&&(s(13),p("ngModel",i.usuario.email),s(4),p("ngModel",i.usuario.password),s(16),h("isOpen",i.FlagModal)("title","Crear Cuenta"))},dependencies:[R,E,_,C,v,I,F,M,k,N]})};export{D as SignInComponent};
