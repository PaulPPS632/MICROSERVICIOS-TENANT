import{a as B}from"./chunk-YRVV3GN6.js";import{a as q}from"./chunk-SJWRDQVH.js";import{a as L,b as T,e as Q,l as M}from"./chunk-IUFCXTOM.js";import"./chunk-IRNCR7DW.js";import{e as P}from"./chunk-OMO3MP2D.js";import"./chunk-FRM5A7CD.js";import{o as w,p as I}from"./chunk-FFKOQB2C.js";import{Qa as m,T as u,Ta as b,Ua as f,Va as x,Wa as t,X as g,Xa as i,Ya as y,ab as l,hb as n,jb as c,kb as C,lb as _,mb as v,nb as S,pb as z,tb as k,ub as E,wa as h,za as r}from"./chunk-SLZJNV7T.js";import{e as D}from"./chunk-EQDQRRRY.js";var F=D(q());function O(d,o){if(d&1&&(t(0,"tr",10)(1,"td",14),n(2),i(),t(3,"td",14),n(4),i(),t(5,"td",14),n(6),i(),t(7,"td",14),n(8),k(9,"currency"),i(),t(10,"td",15)(11,"a",16),n(12,"Pdf"),i()()()),d&2){let a=o.$implicit;r(2),c(" ",a.id.toString().padStart(6,"0")," "),r(2),c(" ",a.fecha_emision.split("T")[0]," "),r(2),c(" ",a.entidadNegocioCotizacion.nombre," "),r(2),c(" ",E(9,5,a.total,"S/. ")," "),r(3),m("href",a.url_pdf,h)}}var N=class d{router=u(P);cotizaciones=[];cotizacionService=u(B);totalCotizaciones=0;page=1;pageSize=15;totalPages=0;searchId="";ngOnInit(){this.getCotizaciones(this.page,this.pageSize)}getCotizaciones(o,a){this.cotizacionService.getPagedCotizaciones(o,a).subscribe(e=>{this.cotizaciones=e.cotizaciones,this.totalCotizaciones=e.total,this.totalPages=e.totalPages})}searchCotizacionById(){this.searchId?this.cotizacionService.getCotizacionById(this.searchId).subscribe(o=>{this.cotizaciones=[o],this.totalPages=1},o=>{console.error(o),F.default.fire({icon:"error",title:"Error",text:o.error?.message||"Ocurri\xF3 un error al buscar la cotizaci\xF3n."})}):this.getCotizaciones(this.page,this.pageSize)}refresh(){this.getCotizaciones(this.page,this.pageSize)}onPageChange(o){this.page=o,this.getCotizaciones(this.page,this.pageSize)}CrearNuevaCotizacion(){this.router.navigate(["/dashboard/quotation"])}static \u0275fac=function(a){return new(a||d)};static \u0275cmp=g({type:d,selectors:[["app-list-quotation"]],standalone:!0,features:[z],decls:36,vars:5,consts:[[1,"text-2xl","text-center","font-extrabold","text-gray-800","dark:text-white"],[1,"flex","justify-between","items-center","mb-4"],["type","text","placeholder","Buscar por ID de cotizaci\xF3n",1,"px-4","py-2","border","border-gray-300","rounded-md",3,"ngModelChange","keydown.enter","ngModel"],[1,"px-3","py-2","ml-2","text-white","bg-blue-500","rounded-md","hover:bg-blue-600",3,"click"],[1,"px-3","py-2","ml-2","text-blue-600","bg-transparent","border-[1px]","border-blue-600","rounded-md","hover:bg-blue-600","hover:text-white",3,"click"],[1,"px-3","py-2","text-white","bg-green-500","rounded-md","hover:bg-green-600",3,"click"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"flex","justify-center","mt-4"],[1,"px-3","py-1","mx-1","text-sm","font-medium","text-white","bg-blue-500","rounded-md","hover:bg-blue-600",3,"click","disabled"],[1,"px-3","py-1","mx-1","text-sm","font-medium"],[1,"px-6","py-3","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-3"],["target","_blank",1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline",3,"href"]],template:function(a,e){a&1&&(t(0,"h2",0),n(1," Cotizaciones "),i(),y(2,"br"),t(3,"div",1)(4,"div")(5,"input",2),S("ngModelChange",function(p){return v(e.searchId,p)||(e.searchId=p),p}),l("keydown.enter",function(){return e.searchCotizacionById()}),i(),t(6,"button",3),l("click",function(){return e.searchCotizacionById()}),n(7," Buscar "),i(),t(8,"button",4),l("click",function(){return e.refresh()}),n(9," Refresh "),i()(),t(10,"button",5),l("click",function(){return e.CrearNuevaCotizacion()}),n(11," Crear Nueva Cotizaci\xF3n "),i()(),t(12,"div",6)(13,"table",7)(14,"thead",8)(15,"tr")(16,"th",9),n(17,"Numeracion"),i(),t(18,"th",9),n(19,"Fecha"),i(),t(20,"th",9),n(21,"Emisor"),i(),t(22,"th",9),n(23,"Total"),i(),t(24,"th",9),n(25,"Acci\xF3n"),i()()(),t(26,"tbody"),f(27,O,13,8,"tr",10,b),i()()(),t(29,"div",11)(30,"button",12),l("click",function(){return e.onPageChange(e.page-1)}),n(31," Anterior "),i(),t(32,"span",13),n(33),i(),t(34,"button",12),l("click",function(){return e.onPageChange(e.page+1)}),n(35," Siguiente "),i()()),a&2&&(r(5),_("ngModel",e.searchId),r(22),x(e.cotizaciones),r(3),m("disabled",e.page===1),r(3),C(" P\xE1gina ",e.page," de ",e.totalPages," "),r(),m("disabled",e.page===e.totalPages))},dependencies:[I,w,M,L,T,Q]})};export{N as ListQuotationComponent};
