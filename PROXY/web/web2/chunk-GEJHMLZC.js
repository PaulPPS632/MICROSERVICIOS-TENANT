import{c as l,e as s}from"./chunk-ZI72NQKV.js";import{P as a,S as i,X as n,q as r}from"./chunk-M37WNIG4.js";var h=(()=>{class o{http;apiUrl=s.API_URL+"/auth";constructor(e){this.http=e}register(e){return this.http.post(`${this.apiUrl}/register`,e).pipe(a(t=>{localStorage.setItem("authToken",t.token),localStorage.setItem("rol",t.rol),localStorage.setItem("User",t.username)}))}isLoggedIn(){let e={token:localStorage.getItem("authToken")};return this.http.post(`${this.apiUrl}/validate`,e).pipe(r(t=>({estado:t.estado,rol:t.rol,user:t.user})))}Logged(e,t){let p={email:e,password:t};return this.http.post(`${this.apiUrl}/login`,p)}logout(){localStorage.removeItem("authToken")}getToken(){return localStorage.getItem("authToken")}static \u0275fac=function(t){return new(t||o)(n(l))};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{h as a};
