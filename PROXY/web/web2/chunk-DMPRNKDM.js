import{a as h}from"./chunk-IYXLXIYD.js";import{b as n}from"./chunk-37KJ3ULY.js";import{N as s,S as g,Y as u,f as o,l as r,q as i,z as a}from"./chunk-M37WNIG4.js";var w=(()=>{class e{productoService=u(h);initialState={products:[],status:"loading",page:0,search:"",marca:"",categoria:"",subcategoria:"",sort:""};changePage$=new o;loadProducts$=this.changePage$.pipe(s(t=>this.productoService.getProducts(t.page,t.search,t.size,t.sort,t.marca,t.categoria,t.subcategoria)),i(t=>({products:t,status:"success"})),a(()=>r({products:[],status:"error"})));state=n({initialState:this.initialState,sources:[this.changePage$.pipe(i(t=>({page:t.page,search:t.search,size:t.size,sort:t.sort,marca:t.marca,categoria:t.categoria,subcategoria:t.subcategoria,status:"loading"}))),this.loadProducts$]});loadProducts(t,c,d,l,f,p,P){this.changePage$.next({page:t,search:c,size:d,sort:l,marca:f,categoria:p,subcategoria:P})}static \u0275fac=function(c){return new(c||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();export{w as a};
